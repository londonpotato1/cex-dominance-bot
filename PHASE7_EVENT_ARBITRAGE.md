# Phase 7: ì´ë²¤íŠ¸ ì•„ë¹„íŠ¸ë¼ì§€ êµ¬í˜„

**ì™„ë£Œì¼**: 2026-01-30
**ìƒíƒœ**: âœ… êµ¬í˜„ ì™„ë£Œ

## ê°œìš”

ê±°ë˜ì†Œ ê³µì§€ì‚¬í•­ì—ì„œ 4ê°€ì§€ ì´ë²¤íŠ¸ íŒ¨í„´ì„ ê°ì§€í•˜ì—¬ ìˆ˜ìµ ê¸°íšŒë¥¼ í¬ì°©í•˜ëŠ” ì‹œìŠ¤í…œ.

## ì¶”ê°€ëœ ì´ë²¤íŠ¸ ìœ í˜•

### 1. WARNING (ì¶œê¸ˆ ì¤‘ë‹¨ ê²½ê³ )
- **ê°ì§€ í‚¤ì›Œë“œ**: ì¶œê¸ˆ ì¤‘ë‹¨, ì…ì¶œê¸ˆ ì¤‘ë‹¨, ì§€ê°‘ ì ê²€, ì¶œê¸ˆ ì œí•œ
- **íŠ¸ë ˆì´ë”© ê¸°íšŒ**: ì¶œê¸ˆ ì°¨ë‹¨ â†’ í”„ë¦¬ë¯¸ì—„ ìƒìŠ¹ ì˜ˆìƒ â†’ **BUY ê¸°íšŒ**
- **ì‹¬ê°ë„**: MEDIUM
- **ê¶Œì¥ ì¡°ì¹˜**: TRADE

**ì˜ˆì‹œ**:
```
[ê³µì§€] ì´ë”ë¦¬ì›€(ETH) ì§€ê°‘ ì ê²€ì— ë”°ë¥¸ ì…ì¶œê¸ˆ ì¤‘ë‹¨ ì•ˆë‚´
â†’ ì¶œê¸ˆ ë¶ˆê°€ ì‹œ êµ­ë‚´ ê°€ê²© ìƒìŠ¹ ê°€ëŠ¥ì„±
â†’ í•´ì™¸ì—ì„œ ETH ë§¤ìˆ˜ í›„ ì¶œê¸ˆ ì¬ê°œ ì‹œ ì°¨ìµ ì‹¤í˜„
```

### 2. HALT (ê±°ë˜ ì¤‘ë‹¨)
- **ê°ì§€ í‚¤ì›Œë“œ**: ê±°ë˜ ì¤‘ë‹¨, ê±°ë˜ ì •ì§€, ë§¤ë§¤ ì¤‘ë‹¨
- **íŠ¸ë ˆì´ë”© ê¸°íšŒ**: ê±°ë˜ ì¬ê°œ ì‹œ **ë³€ë™ì„± ê¸‰ì¦**
- **ì‹¬ê°ë„**: HIGH
- **ê¶Œì¥ ì¡°ì¹˜**: MONITOR

**ì˜ˆì‹œ**:
```
[ê¸´ê¸‰] LUNA ê±°ë˜ ì¼ì‹œ ì¤‘ë‹¨ ì•ˆë‚´
â†’ ê±°ë˜ ì¬ê°œ í›„ ì²« ëª‡ ë¶„ê°„ ê·¹ì‹¬í•œ ë³€ë™ì„±
â†’ ì‚¬ì „ í¬ì§€ì…˜ ì¤€ë¹„, ì¬ê°œ ì¦‰ì‹œ ìŠ¤ìº˜í•‘
```

### 3. MIGRATION (ì²´ì¸ ë§ˆì´ê·¸ë ˆì´ì…˜)
- **ê°ì§€ í‚¤ì›Œë“œ**: ìŠ¤ì™‘, ë§ˆì´ê·¸ë ˆì´ì…˜, ì „í™˜, ì²´ì¸ ë³€ê²½
- **íŠ¸ë ˆì´ë”© ê¸°íšŒ**: êµ¬ë²„ì „ í† í° í• ì¸ ê±°ë˜ â†’ ì‹ ë²„ì „ìœ¼ë¡œ ìŠ¤ì™‘
- **ì‹¬ê°ë„**: MEDIUM
- **ê¶Œì¥ ì¡°ì¹˜**: ALERT

**ì˜ˆì‹œ**:
```
[ì•ˆë‚´] MATIC â†’ POL í† í° ì „í™˜ ì•ˆë‚´
â†’ êµ¬ë²„ì „ MATIC í• ì¸ ë§¤ìˆ˜ â†’ POLë¡œ 1:1 ìŠ¤ì™‘
```

### 4. DEPEG (ìŠ¤í…Œì´ë¸”ì½”ì¸ ë””í˜ê¹…)
- **ê°ì§€ í‚¤ì›Œë“œ**: ê°€ê²© ê¸‰ë½, ì´ìƒ ê±°ë˜, ì‹œì„¸ ì˜¤ë¥˜, ê¸‰ë“±ë½
- **íŠ¸ë ˆì´ë”© ê¸°íšŒ**: USDT ë””í˜ê¹… ì‹œ **ì €ê°€ ë§¤ìˆ˜** ê¸°íšŒ
- **ì‹¬ê°ë„**: CRITICAL
- **ê¶Œì¥ ì¡°ì¹˜**: ALERT

**ì˜ˆì‹œ**:
```
[ê¸´ê¸‰] USDT ê°€ê²© ì´ìƒ ê±°ë˜ ì•ˆë‚´
â†’ USDTê°€ 0.98ë‹¬ëŸ¬ë¡œ í•˜ë½
â†’ 0.98 ë§¤ìˆ˜ â†’ 1.00 íšŒë³µ ì‹œ 2% ìˆ˜ìµ
```

## êµ¬í˜„ ì„¸ë¶€ì‚¬í•­

### NoticeParseResult í™•ì¥

```python
@dataclass
class NoticeParseResult:
    # ê¸°ì¡´ í•„ë“œ
    symbols: list[str]
    listing_time: str | None
    notice_type: str  # "listing", "warning", "halt", "migration", "depeg", "unknown"

    # Phase 7 ì‹ ê·œ í•„ë“œ
    event_severity: EventSeverity    # LOW, MEDIUM, HIGH, CRITICAL
    event_action: EventAction        # NONE, MONITOR, ALERT, TRADE
    event_details: dict              # ì¶”ê°€ ë©”íƒ€ë°ì´í„°
```

### EventSeverity (ì‹¬ê°ë„)

| ë ˆë²¨ | ì˜ë¯¸ | ëŒ€ì‘ ì‹œê°„ |
|------|------|----------|
| LOW | ì¼ë°˜ ê³µì§€ | 1ì‹œê°„ ì´ë‚´ |
| MEDIUM | ì£¼ì˜ í•„ìš” | 30ë¶„ ì´ë‚´ |
| HIGH | ê¸´ê¸‰ ëŒ€ì‘ í•„ìš” | 10ë¶„ ì´ë‚´ |
| CRITICAL | ì¦‰ì‹œ ì¡°ì¹˜ í•„ìš” | ì¦‰ì‹œ |

### EventAction (ê¶Œì¥ ì¡°ì¹˜)

| ì¡°ì¹˜ | ì˜ë¯¸ | ì•¡ì…˜ |
|------|------|------|
| NONE | ì¡°ì¹˜ ë¶ˆí•„ìš” | ë¬´ì‹œ |
| MONITOR | ëª¨ë‹ˆí„°ë§ | ê°€ê²© ì¶”ì ë§Œ |
| ALERT | ì•Œë¦¼ë§Œ | í…”ë ˆê·¸ë¨ ì•Œë¦¼ |
| TRADE | ê±°ë˜ ê¸°íšŒ | ìë™ ì£¼ë¬¸ ê²€í†  |

### ì´ë²¤íŠ¸ ìš°ì„ ìˆœìœ„

```
HALT > WARNING > MIGRATION > DEPEG > LISTING
```

í•œ ê³µì§€ì— ì—¬ëŸ¬ í‚¤ì›Œë“œê°€ ìˆìœ¼ë©´ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ê²ƒìœ¼ë¡œ ë¶„ë¥˜.

## ì‚¬ìš© ì˜ˆì‹œ

### 1. ì¶œê¸ˆ ì¤‘ë‹¨ ê°ì§€

```python
from collectors.notice_parser import BithumbNoticeParser

parser = BithumbNoticeParser()
result = parser.parse(
    title="[ê³µì§€] ë¹„íŠ¸ì½”ì¸(BTC) ì¶œê¸ˆ ì¤‘ë‹¨ ì•ˆë‚´",
    content="2026-01-30 14:00ë¶€í„° ì§€ê°‘ ì ê²€ìœ¼ë¡œ ì¶œê¸ˆì´ ì¤‘ë‹¨ë©ë‹ˆë‹¤."
)

assert result.notice_type == "warning"
assert result.event_severity == EventSeverity.MEDIUM
assert result.event_action == EventAction.TRADE  # ì¶œê¸ˆ ì¤‘ë‹¨ = ë§¤ìˆ˜ ê¸°íšŒ
assert "BTC" in result.symbols
assert "14:00" in result.listing_time
```

### 2. ê±°ë˜ ì¤‘ë‹¨ ê°ì§€

```python
result = parser.parse(
    title="[ê¸´ê¸‰] ë£¨ë‚˜(LUNA) ê±°ë˜ ì¼ì‹œ ì¤‘ë‹¨",
    content="ì´ìƒ ê±°ë˜ ê°ì§€ë¡œ ë§¤ë§¤ê°€ ì¤‘ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤."
)

assert result.notice_type == "halt"
assert result.event_severity == EventSeverity.HIGH
assert result.event_action == EventAction.MONITOR
```

### 3. ë§ˆì´ê·¸ë ˆì´ì…˜ ê°ì§€

```python
result = parser.parse(
    title="[ì•ˆë‚´] í´ë¦¬ê³¤(MATIC â†’ POL) í† í° ì „í™˜",
    content="ê¸°ì¡´ MATIC í† í°ì´ POLë¡œ 1:1 ìŠ¤ì™‘ë©ë‹ˆë‹¤."
)

assert result.notice_type == "migration"
assert result.event_severity == EventSeverity.MEDIUM
assert result.event_action == EventAction.ALERT
```

## í†µí•© í¬ì¸íŠ¸

### 1. MarketMonitor í†µí•©

```python
# collectors/market_monitor.py
async def _on_new_notice(self, notice_url: str, title: str):
    result = self._parser.parse(title, content="")

    # Phase 7: ì´ë²¤íŠ¸ ê¸°ë°˜ ì•Œë¦¼
    if result.event_action == EventAction.TRADE:
        await self._telegram.send_alert(
            f"ğŸš¨ ê±°ë˜ ê¸°íšŒ: {result.notice_type.upper()}\n"
            f"ì‹¬ë³¼: {', '.join(result.symbols)}\n"
            f"ì‹¬ê°ë„: {result.event_severity.value}"
        )
    elif result.event_severity == EventSeverity.CRITICAL:
        await self._telegram.send_critical_alert(
            f"ğŸ”´ ê¸´ê¸‰: {title}"
        )
```

### 2. Gate ë¶„ì„ í™•ì¥ (Optional)

```python
# analysis/gate.py
async def analyze_event(self, notice_result: NoticeParseResult):
    """ì´ë²¤íŠ¸ ê¸°ë°˜ ê±°ë˜ ê¸°íšŒ ë¶„ì„."""
    if notice_result.notice_type == "warning" and "ì¶œê¸ˆ" in notice_result.raw_title:
        # ì¶œê¸ˆ ì¤‘ë‹¨ â†’ í”„ë¦¬ë¯¸ì—„ ìƒìŠ¹ ì˜ˆì¸¡
        premium = await self._premium.calculate_premium(...)
        if premium > 5.0:
            return "BUY_OPPORTUNITY"

    elif notice_result.notice_type == "halt":
        # ê±°ë˜ ì¤‘ë‹¨ â†’ ì¬ê°œ ì‹œê° ëª¨ë‹ˆí„°ë§
        return "MONITOR_RESUME"
```

## í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

```python
# tests/test_notice_parser_phase7.py

def test_warning_withdrawal_suspension(bithumb_parser):
    """ì¶œê¸ˆ ì¤‘ë‹¨ ê°ì§€."""
    title = "[ê³µì§€] ì´ë”ë¦¬ì›€(ETH) ì¶œê¸ˆ ì¤‘ë‹¨ ì•ˆë‚´"
    result = bithumb_parser.parse(title)

    assert result.notice_type == "warning"
    assert result.event_action == EventAction.TRADE

def test_halt_trading_suspension(bithumb_parser):
    """ê±°ë˜ ì¤‘ë‹¨ ê°ì§€."""
    title = "[ê¸´ê¸‰] ë£¨ë‚˜(LUNA) ê±°ë˜ ì •ì§€"
    result = bithumb_parser.parse(title)

    assert result.notice_type == "halt"
    assert result.event_severity == EventSeverity.HIGH

def test_migration_token_swap(upbit_parser):
    """ë§ˆì´ê·¸ë ˆì´ì…˜ ê°ì§€."""
    title = "[ì•ˆë‚´] MATIC í† í° ì „í™˜ ì•ˆë‚´"
    result = upbit_parser.parse(title)

    assert result.notice_type == "migration"
    assert result.event_action == EventAction.ALERT

def test_depeg_price_anomaly(bithumb_parser):
    """ë””í˜ê¹… ê°ì§€."""
    title = "[ê¸´ê¸‰] USDT ê°€ê²© ê¸‰ë½ ì•ˆë‚´"
    result = bithumb_parser.parse(title)

    assert result.notice_type == "depeg"
    assert result.event_severity == EventSeverity.CRITICAL
```

## ìˆ˜ìµ ê¸°íšŒ ë§¤íŠ¸ë¦­ìŠ¤

| ì´ë²¤íŠ¸ | ë°©í–¥ | ì˜ˆìƒ ìˆ˜ìµë¥  | ë¦¬ìŠ¤í¬ | ì§€ì† ì‹œê°„ |
|--------|------|------------|--------|----------|
| WARNING (ì¶œê¸ˆ ì¤‘ë‹¨) | LONG | 2-5% | ì¤‘ê°„ | 1-3ì‹œê°„ |
| HALT (ì¬ê°œ ì§ì „) | BOTH | 3-10% | ë†’ìŒ | 5-30ë¶„ |
| MIGRATION | LONG | 1-3% | ë‚®ìŒ | 1-7ì¼ |
| DEPEG | LONG | 2-5% | ë§¤ìš° ë†’ìŒ | 1-24ì‹œê°„ |

## ë‹¤ìŒ ë‹¨ê³„

1. **Phase 7a**: ì´ë²¤íŠ¸ë³„ ìë™ ì „ëµ ì‹¤í–‰
   - WARNING â†’ ìë™ ë§¤ìˆ˜ ì£¼ë¬¸
   - HALT â†’ ì¬ê°œ ì‹œê° ì•Œë¦¼
   - MIGRATION â†’ ìŠ¤ì™‘ ê¸°íšŒ ê³„ì‚°
   - DEPEG â†’ ì•ˆì „ ë§ˆì§„ ëª¨ë‹ˆí„°ë§

2. **Phase 7b**: ì´ë²¤íŠ¸ íˆìŠ¤í† ë¦¬ ë¶„ì„
   - ê³¼ê±° ì¶œê¸ˆ ì¤‘ë‹¨ ì‹œ í”„ë¦¬ë¯¸ì—„ ë³€í™” íŒ¨í„´
   - ê±°ë˜ ì¬ê°œ í›„ í‰ê·  ë³€ë™ì„±
   - ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤ì™‘ ìˆ˜ìµë¥  í†µê³„

3. **Phase 7c**: ë©€í‹° ì´ë²¤íŠ¸ ìƒê´€ê´€ê³„
   - ì—…ë¹„íŠ¸ ì¶œê¸ˆ ì¤‘ë‹¨ + ë¹—ì¸ ì •ìƒ â†’ ë¹—ì¸ í”„ë¦¬ë¯¸ì—„ ìƒìŠ¹
   - í•œ ê±°ë˜ì†Œ HALT â†’ ë‹¤ë¥¸ ê±°ë˜ì†Œ ìœ ë™ì„± ì´ë™

## ê¸°ëŒ€ íš¨ê³¼

- **ìˆ˜ìµ ê¸°íšŒ í™•ëŒ€**: ìƒì¥ ì™¸ 4ê°€ì§€ ì´ë²¤íŠ¸ì—ì„œ ì¶”ê°€ ìˆ˜ìµ
- **ë¦¬ìŠ¤í¬ íšŒí”¼**: ê±°ë˜ ì¤‘ë‹¨/ë””í˜ê¹… ì¡°ê¸° ê°ì§€ë¡œ ì†ì‹¤ ë°©ì§€
- **ìë™í™” ìˆ˜ì¤€ í–¥ìƒ**: ì´ë²¤íŠ¸ë³„ ë§ì¶¤ ì „ëµ ìë™ ì‹¤í–‰

---

**êµ¬í˜„ íŒŒì¼**:
- `collectors/notice_parser.py` (Phase 7 í™•ì¥)
- `tests/test_notice_parser_phase7.py` (í…ŒìŠ¤íŠ¸ ì¶”ê°€ ì˜ˆì •)

**ê´€ë ¨ ë¬¸ì„œ**:
- `REVIEW_2026-01-29_DETAILED.md` (Phase 6 ì™„ë£Œ ì²´í¬)
- `PHASE6_SCENARIO.md` (ì´ì „ ë‹¨ê³„)
